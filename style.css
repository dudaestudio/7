/* ===== variables ===== */
:root{
  --orange1: rgb(243,85,24);
  --blue1:   rgb(41,111,197);
  --purple1: rgb(36,18,73);
  --blackv:  rgb(14,8,26);
  --neon-p:  rgb(97,69,165);
  --steel:   rgb(58,88,168);
  --text:#ECEAF5; --muted:#C9C6DC;
  --card-radius:16px;
  --card-foil: linear-gradient(60deg, rgba(255,255,255,0) 30%, rgba(255,255,255,.22) 50%, rgba(255,255,255,0) 70%);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--blackv); color:var(--text);
  font-family:"Space Grotesk",system-ui,sans-serif;
  overflow-x:hidden; isolation:isolate; position:relative; z-index:0;
}

/* ===== fondo inmersivo ===== */
.bg{
  position:fixed; inset:0; z-index:0; pointer-events:none;
  background:
    radial-gradient(1000px 700px at 75% 25%, rgba(58,88,168,.20), transparent 60%),
    radial-gradient(1200px 900px at 25% 80%, rgba(243,85,24,.14), transparent 60%),
    radial-gradient(1800px 1200px at 50% 50%, rgba(36,18,73,.65), rgba(14,8,26,.95) 70%),
    linear-gradient(180deg, rgba(14,8,26,1), rgba(36,18,73,.97) 60%, rgba(14,8,26,1) 100%);
}
.stars, .stars::before, .stars::after{
  content:""; position:fixed; inset:0; z-index:1; pointer-events:none;
  mix-blend-mode:screen; background-repeat:repeat; background-attachment:fixed;
  background-size:420px 420px;
}
.stars{
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.9), transparent 50%),
    radial-gradient(2px 2px at 80% 20%, rgba(255,255,255,.8), transparent 50%),
    radial-gradient(1.5px 1.5px at 35% 85%, rgba(255,255,255,.7), transparent 45%);
}
.stars::before{
  background-image:
    radial-gradient(2.5px 2.5px at 60% 70%, rgba(170,200,255,.8), transparent 50%),
    radial-gradient(2px 2px at 15% 60%, rgba(200,170,255,.7), transparent 45%);
}
.stars::after{
  background-image:
    radial-gradient(3px 3px at 45% 25%, rgba(255,255,255,.9), transparent 50%),
    radial-gradient(2.5px 2.5px at 70% 82%, rgba(170,210,255,.7), transparent 45%);
}
.fog{ position:fixed; inset:0; z-index:2; pointer-events:none;
  background:
    radial-gradient(60% 40% at 50% 80%, rgba(243,85,24,.08), transparent 60%),
    radial-gradient(50% 35% at 40% 20%, rgba(58,88,168,.12), transparent 65%);
  filter:blur(12px);
}
.vignette{ position:fixed; inset:0; z-index:3; pointer-events:none;
  background:radial-gradient(ellipse at center, transparent 40%, var(--blackv) 100%);
}

/* ===== layout ===== */
body > *{z-index:4; position:relative}
.site-header{
  display:flex; justify-content:space-between; align-items:center;
  padding:24px 32px; max-width:1200px; margin:0 auto;
}
.brand{ font-family:"DM Mono",monospace; font-size:14px; letter-spacing:.8px; color:var(--muted); }
.nav a{ font-size:14px; text-decoration:none; color:var(--text); margin-left:24px; }

.section{ padding:60px 24px; max-width:1200px; margin:0 auto; }
.hero{ text-align:center; }
.title{ font-size:clamp(40px,8vw,88px); line-height:1.1; margin:0 0 16px; }
.lead{ color:var(--muted); font-size:1.1rem; max-width:680px; margin:0 auto 32px; text-align:center; }
.cta{ display:flex; gap:12px; justify-content:center; }
.btn{
  background:none; border:2px solid var(--text); color:var(--text);
  padding:12px 24px; font-weight:700; cursor:pointer; border-radius:99px; transition:all .3s ease;
}
.btn:hover{ background:var(--text); color:var(--blackv); }
.btn.accent{ border-color:var(--orange1); color:var(--orange1); }
.btn.accent:hover{ background:var(--orange1); color:#fff; }

/* ===== mesa / cartas ===== */
.cards-section{ padding-top:24px; }
.tarot-table{
  position:relative; padding:48px 20px; border-radius:28px; overflow:visible;
  /* “tapete” mágico con glow */
  background:
    radial-gradient(120% 160% at 50% 20%, rgba(97,69,165,.18), rgba(97,69,165,0) 60%),
    radial-gradient(120% 160% at 50% 120%, rgba(243,85,24,.10), rgba(243,85,24,0) 60%);
  box-shadow:
    0 20px 60px rgba(0,0,0,.45),
    inset 0 0 120px rgba(255,255,255,.05);
  transform: perspective(1200px) rotateX(8deg);
}

/* Contenedor de cartas */
.cards{
  display:grid; gap:32px; justify-content:center;
  grid-template-columns: repeat(3, 340px);  /* desktop: fila horizontal */
}

/* Responsivo */
@media (max-width: 1024px){
  .cards{ grid-template-columns: repeat(2, minmax(280px, 1fr)); }
  .tarot-table{ transform: perspective(1000px) rotateX(6deg); }
}
@media (max-width: 640px){
  .cards{ grid-template-columns: 1fr; }
  .tarot-table{ transform: none; }
}

/* Carta */
.card{
  width:100%; height:520px; position:relative; cursor:pointer; touch-action:manipulation;
  transform-origin:center center; transition:transform .5s ease-out, filter .4s ease;
  filter: drop-shadow(0 12px 24px rgba(0,0,0,.35));
}
/* Rotaciones sutiles para efecto “mesa desparramada” */
.card:nth-child(1){ transform: rotateZ(-2.5deg); }
.card:nth-child(2){ transform: rotateZ(1.8deg);  }
.card:nth-child(3){ transform: rotateZ(-1.2deg); }

.card:hover{ transform: scale(1.05) rotateZ(0deg); }

/* Flip */
.card__inner{ position:relative; width:100%; height:100%; text-align:center;
  transition:transform .8s; transform-style:preserve-3d; }
.card.is-flipped .card__inner{ transform:rotateY(180deg); }
@media (hover:hover){
  .card:hover .card__inner{ transform:rotateY(180deg); }
}

/* Caras */
.card__face{
  position:absolute; inset:0; -webkit-backface-visibility:hidden; backface-visibility:hidden;
  border-radius:var(--card-radius); overflow:hidden;
  background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.1);
}
.card__face--front{ display:flex; align-items:center; justify-content:center; }
.card__face--back{
  background:rgba(255,255,255,.08); transform:rotateY(180deg);
  display:flex; align-items:center; justify-content:center; padding:24px;
}
.card__face--back .only-text{ text-align:left; max-width:90%; }

/* Detalles */
.card__sigil{ font-family:"DM Mono",monospace; font-size:12px; text-transform:uppercase; letter-spacing:1px; color:var(--muted); position:absolute; top:12px; right:12px; }
.card__corners span{ display:block; width:12px; height:12px; position:absolute; border:1px solid var(--text); pointer-events:none; }
.card__corners span:nth-child(1){top:0; left:0; border-bottom:0; border-right:0}
card__corners span:nth-child(2){top:0; right:0; border-bottom:0; border-left:0}
.card__corners span:nth-child(3){bottom:0; left:0; border-top:0; border-right:0}
.card__corners span:nth-child(4){bottom:0; right:0; border-top:0; border-left:0}

/* Media */
.card__media{ position:absolute; inset:0; overflow:hidden; }
.card__media::before{
  content:''; position:absolute; inset:0; z-index:1;
  background:linear-gradient(180deg, rgba(14,8,26,.08) 30%, rgba(14,8,26,.88) 92%);
}
.card__media img{ width:100%; height:100%; object-fit:cover; object-position:center; transition:transform .5s ease; }
.card__media img:hover{ transform:scale(1.03); }
.card__media.no-crop img{ object-fit:contain; }

/* Texto frontal */
.card__frontContent{ position:absolute; bottom:24px; left:24px; right:24px; z-index:2; text-align:left; }
.card__title{ font-size:24px; font-weight:700; }
.card__meta{ color:var(--muted); font-size:14px; margin-top:4px; }
.only-text{ width:100%; padding:24px; }

/* “Foil” */
.card__face--front::after{
  content:""; position:absolute; inset:0; background:var(--card-foil);
  transform:translateX(-110%); transition:transform 1.2s cubic-bezier(.2,.5,.1,1); pointer-events:none;
}
.card:hover .card__face--front::after{ transform:translateX(110%); }
